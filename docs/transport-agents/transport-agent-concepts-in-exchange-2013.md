---
title: Concepts sur les agents de transport dans Exchange 2013
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 0c700af8-2792-4d3f-8571-8860e0550d8e
description: Trouvez des informations sur l’architecture de rôle transport agent pipeline et le serveur Exchange 2013 influence développement d’agent de transport et les classes que vous pouvez utiliser pour développer des agents de transport.
ms.openlocfilehash: 6f7a03e16b260117c6ee27b86ec0e55b5346e301
ms.sourcegitcommit: 9061fcf40c218ebe88911783f357b7df278846db
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/28/2018
ms.locfileid: "21353706"
---
# <a name="transport-agent-concepts-in-exchange-2013"></a><span data-ttu-id="cb3c2-103">Concepts sur les agents de transport dans Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cb3c2-103">Transport agent concepts in Exchange 2013</span></span>

<span data-ttu-id="cb3c2-104">Trouvez des informations sur l’architecture de rôle transport agent pipeline et le serveur Exchange 2013 influence développement d’agent de transport et les classes que vous pouvez utiliser pour développer des agents de transport.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-104">Find information about how the transport agent pipeline and server role architecture in Exchange 2013 affect transport agent development, and the classes that you can use to develop transport agents.</span></span> 
  
<span data-ttu-id="cb3c2-105">**S’applique à :** Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="cb3c2-105">**Applies to:** Exchange Server 2013</span></span> 
  
<span data-ttu-id="cb3c2-106">Vous pouvez utiliser la bibliothèque de classes fournie dans Exchange Server 2013 pour implémenter des agents de transport s’inscrire pour les événements et effectuer des actions sur les messages transitant via le pipeline de transport.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-106">You can use the class library provided in Exchange Server 2013 to implement transport agents that register for events and take actions on messages as they pass through the transport pipeline.</span></span> <span data-ttu-id="cb3c2-107">Vous pouvez également utiliser des agents de transport pour modifier les messages et convertir le contenu.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-107">You can also use transport agents to modify messages and convert content.</span></span> 
  
<span data-ttu-id="cb3c2-p102">Cet article fournit des informations sur les agents de transport et l’architecture de pipeline de transport. Il est important de comprendre l’architecture du pipeline de transport pour pouvoir modifier le comportement de transport de manière adaptée aux besoins de votre organisation. Cet article fournit également des informations sur les modifications apportées à l’architecture d’Exchange 2013 qui ont des répercussions sur les agents de transport et les classe que vous pouvez utiliser pour développer des agents de transport. </span><span class="sxs-lookup"><span data-stu-id="cb3c2-p102">This article provides information about transport agents and the transport pipeline architecture. It is important to understand the architecture of the transport pipeline so that you can modify transport behavior to meet your organization's needs. This article also provides information about changes in the Exchange 2013 architecture that affect transport agents and the classes that you can use to develop transport agents.</span></span> 
  
## <a name="transport-agents-in-the-transport-pipeline"></a><span data-ttu-id="cb3c2-111">Agents de transport dans le pipeline de transport</span><span class="sxs-lookup"><span data-stu-id="cb3c2-111">Transport agents in the transport pipeline</span></span>
<span data-ttu-id="cb3c2-112"><a name="Pipeline"> </a></span><span class="sxs-lookup"><span data-stu-id="cb3c2-112"></span></span>

<span data-ttu-id="cb3c2-113">Les agents de transport sont issus d’une des trois catégories suivantes :</span><span class="sxs-lookup"><span data-stu-id="cb3c2-113">Transport agents are derived from one of the following three classes:</span></span>
  
- [<span data-ttu-id="cb3c2-114">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-114">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx)
- [<span data-ttu-id="cb3c2-115">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-115">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx)
- [<span data-ttu-id="cb3c2-116">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-116">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx)
    
<span data-ttu-id="cb3c2-p103">Le pipeline de transport fait référence au flux de données de messagerie, dans les limites d’une organisation Exchange 2013. Le pipeline se compose des services répertoriés dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p103">The transport pipeline refers to the flow of message data within the boundaries of an Exchange 2013 organization. The pipeline consists of the services listed in the following table.</span></span>
  
<span data-ttu-id="cb3c2-119">**Le tableau 1. Services de pipeline de transport**</span><span class="sxs-lookup"><span data-stu-id="cb3c2-119">**Table 1. Transport pipeline services**</span></span>

|<span data-ttu-id="cb3c2-120">**Service**</span><span class="sxs-lookup"><span data-stu-id="cb3c2-120">**Service**</span></span>|<span data-ttu-id="cb3c2-121">**Description**</span><span class="sxs-lookup"><span data-stu-id="cb3c2-121">**Description**</span></span>|<span data-ttu-id="cb3c2-122">**Classes prises en charge**</span><span class="sxs-lookup"><span data-stu-id="cb3c2-122">**Classes supported**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="cb3c2-123">Transport frontal </span><span class="sxs-lookup"><span data-stu-id="cb3c2-123">Front End Transport</span></span>  <br/> |<span data-ttu-id="cb3c2-124">S’exécute sur tous les [serveurs d’accès au Client](http://technet.microsoft.com/en-us/library/dd298114%28v=exchg.150%29.aspx) et agit comme un proxy pour le trafic entrant et sortant externe SMTP pour l’organisation Exchange 2013 sans état.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-124">Runs on all [Client Access servers](http://technet.microsoft.com/en-us/library/dd298114%28v=exchg.150%29.aspx) and acts as a stateless proxy for all inbound and outbound external SMTP traffic for the Exchange 2013 organization.</span></span> <span data-ttu-id="cb3c2-125">Le service de Transport frontal n’inspecter le contenu des messages ou localement tous les messages des files d’attente.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-125">The Front End Transport service doesn't inspect message content or queue any messages locally.</span></span> <span data-ttu-id="cb3c2-126">Il communique avec le service de Transport sur un [serveur de boîtes aux lettres](http://technet.microsoft.com/en-us/library/jj150491%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="cb3c2-126">It communicates with the Transport service on a [Mailbox server](http://technet.microsoft.com/en-us/library/jj150491%28v=exchg.150%29.aspx).</span></span>  <br/> |[<span data-ttu-id="cb3c2-127">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-127">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="cb3c2-128">Transport</span><span class="sxs-lookup"><span data-stu-id="cb3c2-128">Transport</span></span>  <br/> |<span data-ttu-id="cb3c2-129">S’exécute sur tous les serveurs de boîtes aux lettres et est similaire au rôle [serveur de Transport Hub](http://technet.microsoft.com/en-us/library/bb123494%28v=exchg.141%29.aspx) dans Exchange Server 2010.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-129">Runs on all Mailbox servers and is similar to the [Hub Transport server](http://technet.microsoft.com/en-us/library/bb123494%28v=exchg.141%29.aspx) role in Exchange Server 2010.</span></span> <span data-ttu-id="cb3c2-130">Le service de Transport achemine les messages entre lui-même et les services de Transport de boîtes aux lettres et de Transport frontal.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-130">The Transport service routes messages between itself and the Mailbox Transport and Front End Transport services.</span></span> <span data-ttu-id="cb3c2-131">Ce service ne communique pas directement avec les bases de données de boîtes aux lettres.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-131">This service does not communicate directly with mailbox databases.</span></span>  <br/> |[<span data-ttu-id="cb3c2-132">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-132">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> [<span data-ttu-id="cb3c2-133">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-133">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> [<span data-ttu-id="cb3c2-134">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-134">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) <br/> |
|<span data-ttu-id="cb3c2-135">Transport de boîtes aux lettres</span><span class="sxs-lookup"><span data-stu-id="cb3c2-135">Mailbox Transport</span></span>  <br/> |<span data-ttu-id="cb3c2-136">S’exécute sur tous les serveurs de boîtes aux lettres et se compose de deux services distincts : dépôt de Transport de boîtes aux lettres et de la remise de Transport de boîtes aux lettres.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-136">Runs on all Mailbox servers and consists of two separate services: Mailbox Transport Submission and Mailbox Transport Delivery.</span></span> <span data-ttu-id="cb3c2-137">Remise de Transport de boîte aux lettres reçoit les messages SMTP à partir du service de Transport et se connecte à la base de données de boîtes aux lettres à l’aide d’un appel de procédure distante (RPC) Exchange pour remettre le message.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-137">Mailbox Transport Delivery receives SMTP messages from the Transport service, and connects to the mailbox database by using an Exchange remote procedure call (RPC) to deliver the message.</span></span> <span data-ttu-id="cb3c2-138">Dépôt de Transport de boîtes aux lettres se connecte à la base de données de boîtes aux lettres à l’aide de RPC pour récupérer des messages et envoie les messages via SMTP pour le service de Transport.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-138">Mailbox Transport Submission connects to the mailbox database using RPC to retrieve messages, and submits the messages via SMTP to the Transport service.</span></span>  <br/> |<span data-ttu-id="cb3c2-139">Aucune.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-139">None.</span></span>  <br/> |
   
### <a name="transport-events"></a><span data-ttu-id="cb3c2-140">Événements de transport</span><span class="sxs-lookup"><span data-stu-id="cb3c2-140">Transport events</span></span>
<span data-ttu-id="cb3c2-141"><a name="Events"> </a></span><span class="sxs-lookup"><span data-stu-id="cb3c2-141"></span></span>

<span data-ttu-id="cb3c2-p107">Pour implémenter des agents de transport, vous devez tout d’abord l’enregistrer pour un événement, puis exécuter une action lorsque cet événement est déclenché. Chacun des trois types d’agent peut être enregistré pour un ensemble d’événements différent.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p107">You implement transport agents by first registering for an event, and then taking an action when that event fires. Each of the three agent types can register for a different set of events.</span></span>
  
<span data-ttu-id="cb3c2-144">La figure suivante indique les emplacements du pipeline de transport où les agents de transport peuvent être enregistrés pour des événements.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-144">The following figure shows where in the transport pipeline transport agents can register for events.</span></span>
  
<span data-ttu-id="cb3c2-145">**La figure 1. Événements de transport**</span><span class="sxs-lookup"><span data-stu-id="cb3c2-145">**Figure 1. Transport events**</span></span>

![Image présentant le flux de messages via le pipeline de transport et les événements auxquels chaque agent peut s’inscrire, en commençant par les événements SMPT pour SmtpReceivedAgent, puis les événements Categorizor pour RoutingAgent, et enfin les événements DELIVER pour DeliveryAgent.](media/TAConceptsFig1.png)
  
<span data-ttu-id="cb3c2-147">Lorsqu’un message entre dans le pipeline de transport, un agent de transport dérivé de la classe [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) peut agir sur le message pendant les événements enregistrés par l’agent pour SMTP.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-147">When a message enters the transport pipeline, a transport agent derived from the [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) class can act on the message during any of the SMTP events that the agent registered for.</span></span> <span data-ttu-id="cb3c2-148">Un agent dérivé de la classe [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) peut agir sur un des quatre événements enregistré par catégoriseur.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-148">An agent derived from the [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) class can act on any of the four categorizer events that it has registered for.</span></span> <span data-ttu-id="cb3c2-149">Un agent dérivé de la classe [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) peut agir sur un message pendant les événements de la remise enregistré par.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-149">An agent derived from the [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) class can act on a message during any of the delivery events that it has registered for.</span></span> 
  
## <a name="transport-agents-and-server-roles"></a><span data-ttu-id="cb3c2-150">Rôles serveur et agents de transport</span><span class="sxs-lookup"><span data-stu-id="cb3c2-150">Transport agents and server roles</span></span>
<span data-ttu-id="cb3c2-151"><a name="ServerRoles"> </a></span><span class="sxs-lookup"><span data-stu-id="cb3c2-151"></span></span>

<span data-ttu-id="cb3c2-152">Modifications apportées à l’architecture du rôle serveur dans Exchange 2013 affectent ce que peuvent faire les agents de transport et les agents de transport.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-152">Changes to the server role architecture in Exchange 2013 affect transport agents and what your transport agents can do.</span></span> <span data-ttu-id="cb3c2-153">Exchange 2013 comprend les rôles de serveur suivants :</span><span class="sxs-lookup"><span data-stu-id="cb3c2-153">Exchange 2013 includes the following server roles:</span></span>
  
- <span data-ttu-id="cb3c2-p110">Serveur de boîtes aux lettres : inclut des protocoles d’accès au client, le service de transport, des bases de données de boîtes aux lettres et des composants de messagerie unifiée. Le serveur de boîtes aux lettres communique directement avec les services de domaine Active Directory (AD DS), les serveurs d’accès au client et des clients de messagerie comme Outlook.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p110">Mailbox server — Includes Client Access protocols, the Transport service, mailbox databases, and Unified Messaging components. The Mailbox server communicates directly with Active Directory Domain Services (AD DS), Client Access servers, and mail clients such as Outlook.</span></span>
    
- <span data-ttu-id="cb3c2-156">Serveur d’accès au client : fournit des services d’authentification, de redirection limitée et de proxy, ainsi que des protocoles d’accès au client comme HTTP, POP, IMAP et SMTP.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-156">Client Access server — Provides authentication, limited redirection, proxy services, and client access protocols such as HTTP, POP, IMAP, and SMTP.</span></span>
    
- <span data-ttu-id="cb3c2-p111">Serveur de transport Edge : route les e-mails en direction et à partir d’une organisation. En règle générale, les serveurs de transport Edge se trouvent au niveau du périmètre d’une topologie Exchange.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p111">Edge Transport server — Routes email into and out of an organization. Edge Transport servers typically sit at the perimeter of an Exchange topology.</span></span>
    
<span data-ttu-id="cb3c2-p112">Cette structure consolidée permet de réduire le nombre de serveurs qui doivent être déployés dans un environnement Exchange 2013. Les administrateurs n’ont plus à déployer des serveurs de transport Hub et d’accès au client dans chaque site Active Directory qui comprend un serveur de boîtes aux lettres, et ils n’ont plus besoin de mettre à jour tous les rôles serveur afin de bénéficier des nouvelles fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p112">This consolidated structure reduces the number of servers that need to be deployed in an Exchange 2013 environment. Administrators no longer have to deploy Hub Transport and Client Access servers in every Active Directory site that includes a Mailbox server, and they no longer need to update all server roles in order to take advantage of new functionality.</span></span>
  
<span data-ttu-id="cb3c2-p113">Ces modifications apportées à l’architecture des rôles serveur peuvent potentiellement modifier l’emplacement du pipeline où votre agent peut répondre aux événements. Si vous avez créé des agents de transport pour des versions d’Exchange antérieures à Exchange 2013, passez en revue les modifications apportées à l’architecture pour déterminer si vous devez apporter des modifications à vos agents.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p113">These changes to the server role architecture can potentially affect where in the pipeline your agent can respond to events. If you have created transport agents for versions of Exchange earlier than Exchange 2013, be sure to review the architectural changes to determine whether you need to make any changes to your agents.</span></span>
  
<span data-ttu-id="cb3c2-p114">La figure suivante indique en quoi les changements d’architecture d’Exchange 2013 offrent un pipeline de transport simplifié et consolidé. Dans cette illustration, les serveurs d’accès au client sont représentés par les vignettes CAS. Les serveurs de boîtes aux lettres sont eux représentés par les vignettes MBX.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p114">The following figure shows how the architectural changes in Exchange 2013 result in a streamlined, consolidated transport pipeline. In this figure, Client Access servers are labeled CAS. And Mailbox servers are labeled MBX.</span></span>
  
<span data-ttu-id="cb3c2-166">**La figure 2. Architecture du rôle serveur Exchange 2013**</span><span class="sxs-lookup"><span data-stu-id="cb3c2-166">**Figure 2. Exchange 2013 server role architecture**</span></span>

![Image illustrant le trafic client via un pare-feu externe et le transport Edge sur la gauche qui transmet le trafic par le biais d’un équilibrage de charge de couche 4 vers un tableau CAS consolidé et un ensemble de serveurs de boîtes aux lettres dans un groupe d’accessibilité de base de données sur la droite.](media/Transport_Agent_Concepts_Fig_3.png)
  
<span data-ttu-id="cb3c2-168">La figure suivante illustre les interactions entre les rôles serveur Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-168">The following figure shows the interactions between the Exchange 2013 server roles.</span></span>
  
<span data-ttu-id="cb3c2-169">**La figure 3. Interactions de serveur de boîtes aux lettres et accès au Client**</span><span class="sxs-lookup"><span data-stu-id="cb3c2-169">**Figure 3. Mailbox and Client Access server interactions**</span></span>

![Image présentant les interactions en débutant avec des flèches à partir du trafic client passant à travers un équilibrage de charge de couche 4 qui possède 4 cibles dans le tableau CAS : IIS/proxy HTTP, POP/IMAP, SMTP et messagerie unifiée. Les flèches passent vers leurs cibles complémentaires dans la banque de boîtes aux lettres.](media/Transport_Agent_Concepts_Fig_4.png)
  
<span data-ttu-id="cb3c2-172">Pour plus d’informations sur les modifications apportées à l’architecture du rôle serveur Exchange 2013, voir [architecture Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) dans [Nouveautés dans Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="cb3c2-172">For more information about changes in the Exchange 2013 server role architecture, see [Exchange 2013 architecture](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) in [What's New in Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx).</span></span> 
  
## <a name="transport-agent-classes"></a><span data-ttu-id="cb3c2-173">Classes d’agent de transport</span><span class="sxs-lookup"><span data-stu-id="cb3c2-173">Transport agent classes</span></span>
<span data-ttu-id="cb3c2-174"><a name="Create"> </a></span><span class="sxs-lookup"><span data-stu-id="cb3c2-174"></span></span>

<span data-ttu-id="cb3c2-p116">La classe dont votre agent de transport est dérivé détermine les événements pour lesquels votre agent peut être enregistré. Votre agent contient généralement une classe d’agent, une fabrique d’agent, un ou plusieurs gestionnaires d’événements, ainsi que le code qui effectue les actions que vous voulez que votre agent applique.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p116">The class your transport agent derives from determines the events for which your agent can register. Your agent will typically contain an agent class, an agent factory, one or more event handlers, and the code that performs the actions that you want your agent to take.</span></span>
  
<span data-ttu-id="cb3c2-177">Le tableau suivant indique les classes à partir desquelles chaque type d’agent est dérivé.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-177">The following table lists the classes from which to derive for each agent type.</span></span>
  
<span data-ttu-id="cb3c2-178">**Le tableau 2. Classes de l’agent**</span><span class="sxs-lookup"><span data-stu-id="cb3c2-178">**Table 2. Agent classes**</span></span>

||||
|:-----|:-----|:-----|
|<span data-ttu-id="cb3c2-179">Type d’agent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-179">Agent type</span></span>  <br/> |<span data-ttu-id="cb3c2-180">Classe de base de fabrique</span><span class="sxs-lookup"><span data-stu-id="cb3c2-180">Factory base class</span></span>  <br/> |<span data-ttu-id="cb3c2-181">Classe de base d’agent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-181">Agent base class</span></span>  <br/> |
|<span data-ttu-id="cb3c2-182">Réception SMTP</span><span class="sxs-lookup"><span data-stu-id="cb3c2-182">SMTP receive</span></span>  <br/> |[<span data-ttu-id="cb3c2-183">SmtpReceiveAgentFactory</span><span class="sxs-lookup"><span data-stu-id="cb3c2-183">SmtpReceiveAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgentFactory.aspx) <br/> |[<span data-ttu-id="cb3c2-184">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-184">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="cb3c2-185">Routage</span><span class="sxs-lookup"><span data-stu-id="cb3c2-185">Routing</span></span>  <br/> |[<span data-ttu-id="cb3c2-186">RoutingAgentFactory</span><span class="sxs-lookup"><span data-stu-id="cb3c2-186">RoutingAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgentFactory.aspx) <br/> |[<span data-ttu-id="cb3c2-187">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="cb3c2-187">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> |
|<span data-ttu-id="cb3c2-188">Remise</span><span class="sxs-lookup"><span data-stu-id="cb3c2-188">Delivery</span></span>  <br/> |<span data-ttu-id="cb3c2-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/en-us/library/dd877550(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="cb3c2-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/en-us/library/dd877550(v=exchg.150).aspx)</span></span> <br/> |<span data-ttu-id="cb3c2-190">[DeliveryAgent](https://msdn.microsoft.com/en-us/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="cb3c2-190">[DeliveryAgent](https://msdn.microsoft.com/en-us/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span></span> <br/> |
   
<span data-ttu-id="cb3c2-p117">Ces classes de base de fabrique et d’agent fournissent des propriétés et les méthodes que vous pouvez utiliser pour accéder à des messages et à des événements de transport. Mettez en œuvre des classes qui héritent de celles-ci dans votre agent. Dans la classe dérivée de la fabrique d’agent, remplacez la méthode **CreateAgent** afin qu’elle renvoie une nouvelle instance de votre classe d’agent.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-p117">These factory and agent base classes provide properties and methods that you can use to access transport events and messages. Implement classes in your agent that inherit from these classes. In the agent factory derived class, override the **CreateAgent** method so that it returns a new instance of your agent class.</span></span> 
  
<span data-ttu-id="cb3c2-194">Les arguments transmis aux événements peuvent contenir une instance de la classe [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) , que vous pouvez utiliser pour modifier les propriétés et le contenu du message sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-194">Arguments passed to the events can contain an instance of the [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) class, which you can use to change the properties and contents of the underlying message.</span></span> <span data-ttu-id="cb3c2-195">Toutes les informations de message sont disponibles dans chaque événement.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-195">Not all message information is available in each event.</span></span> <span data-ttu-id="cb3c2-196">Vous devez déterminer de l’agent et l’événement qui convient le mieux à la tâche que vous souhaitez effectuer.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-196">You must determine which agent and which event is best for the task you want to accomplish.</span></span> 
  
<span data-ttu-id="cb3c2-197">Les espaces de noms suivants contiennent des types qui vous permettent de lire, d’écrire et de modifier des messages dans le pipeline de transport :</span><span class="sxs-lookup"><span data-stu-id="cb3c2-197">The following namespaces contain types that you can use to read, write, and modify messages in the transport pipeline:</span></span>
  
- [<span data-ttu-id="cb3c2-198">Microsoft.Exchange.Data.Mime.Encoders</span><span class="sxs-lookup"><span data-stu-id="cb3c2-198">Microsoft.Exchange.Data.Mime.Encoders</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.Encoders.aspx)
    
- [<span data-ttu-id="cb3c2-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span><span class="sxs-lookup"><span data-stu-id="cb3c2-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.iCalendar.aspx)
    
- [<span data-ttu-id="cb3c2-200">Microsoft.Exchange.Data.Mime</span><span class="sxs-lookup"><span data-stu-id="cb3c2-200">Microsoft.Exchange.Data.Mime</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.aspx)
    
- [<span data-ttu-id="cb3c2-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span><span class="sxs-lookup"><span data-stu-id="cb3c2-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.Tnef.aspx)
    
- [<span data-ttu-id="cb3c2-202">Microsoft.Exchange.Data.ContentTypes.vCard</span><span class="sxs-lookup"><span data-stu-id="cb3c2-202">Microsoft.Exchange.Data.ContentTypes.vCard</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.vCard.aspx)
    
<span data-ttu-id="cb3c2-203">Une fois que vous écrivez votre agent de transport, vous [installer et gérer votre agent](http://technet.microsoft.com/en-us/library/bb125175%28v=exchg.150%29.aspx) à l’aide de l’environnement Exchange Management Shell.</span><span class="sxs-lookup"><span data-stu-id="cb3c2-203">After you write your transport agent, you [install and manage your agent](http://technet.microsoft.com/en-us/library/bb125175%28v=exchg.150%29.aspx) by using the Exchange Management Shell.</span></span> <span data-ttu-id="cb3c2-204">Pour plus d’informations, voir [création des agents de transport pour Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span><span class="sxs-lookup"><span data-stu-id="cb3c2-204">For more information, see [Creating transport agents for Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="cb3c2-205">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="cb3c2-205">See also</span></span>

- [<span data-ttu-id="cb3c2-206">Agents de transport dans Exchange</span><span class="sxs-lookup"><span data-stu-id="cb3c2-206">Transport agents in Exchange</span></span>](transport-agents-in-exchange-2013.md)    
- [<span data-ttu-id="cb3c2-207">Référence de l’agent de transport pour Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cb3c2-207">Transport agent reference for Exchange 2013</span></span>](transport-agent-reference-for-exchange-2013.md)   
- [<span data-ttu-id="cb3c2-208">Lecture et de modification des messages dans le pipeline de transport Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cb3c2-208">Reading and modifying messages in the Exchange 2013 transport pipeline</span></span>](reading-and-modifying-messages-in-the-exchange-2013-transport-pipeline.md)    
- [<span data-ttu-id="cb3c2-209">Quelles sont les nouveautés dans Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cb3c2-209">What's New in Exchange 2013</span></span>](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="cb3c2-210">Architecture de rôle de serveur Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cb3c2-210">Exchange 2013 Server Role Architecture</span></span>](http://blogs.technet.com/b/exchange/archive/2013/01/23/exchange-2013-server-role-architecture.aspx)    
- [<span data-ttu-id="cb3c2-211">Boîte aux lettres et les serveurs d’accès au Client</span><span class="sxs-lookup"><span data-stu-id="cb3c2-211">Mailbox and Client Access Servers</span></span>](http://technet.microsoft.com/en-us/library/jj150519%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="cb3c2-212">Flux de messagerie Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="cb3c2-212">Exchange Server 2013 Mail Flow</span></span>](http://technet.microsoft.com/en-us/library/aa996349.aspx)
- [<span data-ttu-id="cb3c2-213">Le routage Exchange Server 2013 messagerie</span><span class="sxs-lookup"><span data-stu-id="cb3c2-213">Exchange Server 2013 Mail Routing</span></span>](http://technet.microsoft.com/en-us/library/aa998825%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="cb3c2-214">Exchange Server PowerShell (Exchange Management Shell)</span><span class="sxs-lookup"><span data-stu-id="cb3c2-214">Exchange Server PowerShell (Exchange Management Shell)</span></span>](https://docs.microsoft.com/en-us/powershell/exchange/exchange-server/exchange-management-shell?view=exchange-ps)
    

