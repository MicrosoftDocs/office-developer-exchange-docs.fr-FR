---
title: Actualiser les informations de configuration à l’aide de la découverte automatique
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: c2f3c6a5-e8ea-4375-b41a-686a6f238d33
description: Découvrez comment et quand actualiser les informations de configuration pour votre connexion Exchange à l’aide de la découverte automatique.
ms.openlocfilehash: b9a4264d150d09b0e143e0bf7365af351bb2ef44
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/03/2020
ms.locfileid: "44527753"
---
# <a name="refresh-configuration-information-by-using-autodiscover"></a><span data-ttu-id="1a4a7-103">Actualiser les informations de configuration à l’aide de la découverte automatique</span><span class="sxs-lookup"><span data-stu-id="1a4a7-103">Refresh configuration information by using Autodiscover</span></span>

<span data-ttu-id="1a4a7-104">Découvrez comment et quand actualiser les informations de configuration pour votre connexion Exchange à l’aide de la découverte automatique.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-104">Learn how and when to refresh configuration information for your Exchange connection by using Autodiscover.</span></span>
  
<span data-ttu-id="1a4a7-105">Lorsque votre application EWS s’exécute pour la première fois, la découverte automatique vous offre un excellent moyen de collecter les informations dont vous avez besoin pour vous connecter à la boîte aux lettres Exchange de votre utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-105">When your EWS application runs for the first time, Autodiscover provides a great way for you to collect the information you need in order to connect to your user's Exchange mailbox.</span></span> <span data-ttu-id="1a4a7-106">Toutefois, la découverte automatique n’est pas destinée à être utilisée pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-106">But Autodiscover isn't just for first time use.</span></span> <span data-ttu-id="1a4a7-107">L’utilisation régulière de la découverte automatique permet de maintenir votre application connectée en lui permettant de répondre aux modifications apportées au déploiement d’Exchange.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-107">Using Autodiscover on a regular basis can help keep your application connected by enabling it to respond to changes in the Exchange deployment.</span></span>
  
## <a name="cache-autodiscover-endpoint-and-ews-settings"></a><span data-ttu-id="1a4a7-108">Mettre en cache le point de terminaison de découverte automatique et les paramètres EWS</span><span class="sxs-lookup"><span data-stu-id="1a4a7-108">Cache Autodiscover endpoint and EWS settings</span></span>
<span data-ttu-id="1a4a7-109"><a name="bk_CacheSettings"> </a></span><span class="sxs-lookup"><span data-stu-id="1a4a7-109"><a name="bk_CacheSettings"> </a></span></span>

<span data-ttu-id="1a4a7-110">Bien que nous vous recommandons d’utiliser la découverte automatique régulièrement, l’utilisation régulière de celle-ci nécessite une attention particulière.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-110">While we recommend that you use Autodiscover regularly, how regularly you use it requires some consideration.</span></span> <span data-ttu-id="1a4a7-111">Idéalement, vous pouvez équilibrer le temps de réponse aux modifications apportées à l’environnement contre la génération d’un trafic réseau superflu.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-111">Ideally you can balance responding quickly to changes in the environment against generating too much unnecessary network traffic.</span></span> <span data-ttu-id="1a4a7-112">Lorsque votre application obtient une réponse de découverte automatique pour la première fois, vous devez enregistrer les informations suivantes afin de ne pas avoir à répéter le processus de découverte automatique à chaque fois que vous envoyez une demande EWS.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-112">When your application gets a successful Autodiscover response for the first time, you should save the following information so that you do not have to repeat the Autodiscover process every time you send an EWS request.</span></span>
  
<span data-ttu-id="1a4a7-113">**Tableau 1. Informations à mettre en cache pour les demandes de découverte automatique**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-113">**Table 1. Information to cache for Autodiscover requests**</span></span>

|<span data-ttu-id="1a4a7-114">**Définition à mettre en cache**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-114">**Setting to cache**</span></span>|<span data-ttu-id="1a4a7-115">**Valide pour...**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-115">**Valid for…**</span></span>|<span data-ttu-id="1a4a7-116">**Détails**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-116">**Details**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="1a4a7-117">Point de terminaison de découverte automatique</span><span class="sxs-lookup"><span data-stu-id="1a4a7-117">Autodiscover endpoint</span></span>  <br/> |<span data-ttu-id="1a4a7-118">Tant qu’elle fonctionne</span><span class="sxs-lookup"><span data-stu-id="1a4a7-118">As long as it works</span></span>  <br/> |<span data-ttu-id="1a4a7-119">Lorsque vous enregistrez le point de terminaison de découverte automatique qui a renvoyé une réponse réussie, il n’est pas nécessaire de répéter le processus de [génération d’une liste de points de terminaison de découverte automatique](how-to-generate-a-list-of-autodiscover-endpoints.md) et de les essayer jusqu’à ce que vous obteniez une réponse réussie.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-119">When you save the Autodiscover endpoint that returned a successful response, you do not have to repeat the process of [generating a list of Autodiscover endpoints](how-to-generate-a-list-of-autodiscover-endpoints.md) and trying them until you get a successful response.</span></span><br/><br/> <span data-ttu-id="1a4a7-120">**Remarque**: l’API managée EWS ne prend pas en charge la mise en cache du point de terminaison de découverte automatique.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-120">**NOTE**: The EWS Managed API does not support caching the Autodiscover endpoint.</span></span>           |
|<span data-ttu-id="1a4a7-121">URL EWS et tous les autres paramètres récupérés à partir de la réponse de découverte automatique</span><span class="sxs-lookup"><span data-stu-id="1a4a7-121">EWS URL and any other settings retrieved from the Autodiscover response</span></span>  <br/> |<span data-ttu-id="1a4a7-122">Une semaine</span><span class="sxs-lookup"><span data-stu-id="1a4a7-122">One week</span></span>  <br/> |<span data-ttu-id="1a4a7-123">En enregistrant l’URL EWS et d’autres paramètres associés, vous n’avez pas besoin d' [Envoyer une nouvelle demande de découverte automatique](how-to-get-user-settings-from-exchange-by-using-autodiscover.md) pour chaque demande EWS ou si votre application redémarre.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-123">By saving the EWS URL and other related settings, you do not have to [send a new Autodiscover request](how-to-get-user-settings-from-exchange-by-using-autodiscover.md) for each EWS request or if your application restarts.</span></span> <span data-ttu-id="1a4a7-124">Toutefois, même si une URL EWS fonctionne pour votre utilisateur, un serveur peut être disponible plus ou moins.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-124">However, even if an EWS URL works for your user, a server might be available that is more optimal.</span></span><br/><br/> <span data-ttu-id="1a4a7-125">Par exemple, la boîte aux lettres de l’utilisateur a peut-être été déplacée vers un nouveau serveur de boîtes aux lettres, ce qui se traduit par un nouveau point de terminaison EWS.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-125">For example, the user's mailbox might have moved to a new mailbox server, resulting in a new preferred EWS endpoint.</span></span> <span data-ttu-id="1a4a7-126">Nous vous recommandons d’actualiser vos paramètres utilisateur en envoyant une nouvelle demande de découverte automatique après une semaine passée depuis votre dernière demande de découverte automatique.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-126">We recommend that you refresh your user settings by sending a new Autodiscover request after one week has passed since your last Autodiscover request.</span></span> <span data-ttu-id="1a4a7-127">Cette durée peut être ajustée pour répondre aux exigences de votre application.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-127">This time can be adjusted to meet the requirements of your application.</span></span>  <br/> |
   
## <a name="refresh-cached-configuration-information"></a><span data-ttu-id="1a4a7-128">Actualiser les informations de configuration mises en cache</span><span class="sxs-lookup"><span data-stu-id="1a4a7-128">Refresh cached configuration information</span></span>
<span data-ttu-id="1a4a7-129"><a name="bk_RefreshConfig"> </a></span><span class="sxs-lookup"><span data-stu-id="1a4a7-129"><a name="bk_RefreshConfig"> </a></span></span>

<span data-ttu-id="1a4a7-130">Maintenant que vous disposez des informations mises en cache, examinons comment vous pouvez conserver ce cache à jour.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-130">Now that you have the information cached, let's examine how you can keep that cache fresh.</span></span> <span data-ttu-id="1a4a7-131">Nous vous recommandons d’actualiser vos informations mises en cache lorsque :</span><span class="sxs-lookup"><span data-stu-id="1a4a7-131">We recommend that you refresh your cached information when:</span></span>
  
- <span data-ttu-id="1a4a7-132">La période de validité de l’information expire.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-132">The information's validity period expires.</span></span>
    
- <span data-ttu-id="1a4a7-133">Une [erreur liée à la connexion](#bk_ConnectionErrors) se produit et les informations mises en cache ont été actualisées pour la dernière fois il y a une heure.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-133">A [Connection-related error](#bk_ConnectionErrors) occurs AND your cached information was last refreshed over an hour ago.</span></span>
    
<span data-ttu-id="1a4a7-134">Pour actualiser vos informations mises en cache, envoyez une demande de découverte automatique à un point de terminaison de découverte automatique mis en cache, puis procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="1a4a7-134">To refresh your cached information, send an Autodiscover request to a cached Autodiscover endpoint, and do the following:</span></span>
  
- <span data-ttu-id="1a4a7-135">Si la demande aboutit, comparez le point de terminaison EWS dans la réponse au point de terminaison EWS mis en cache et procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="1a4a7-135">If the request succeeds, compare the EWS endpoint in the response with the cached EWS endpoint, and do the following:</span></span>
    
  - <span data-ttu-id="1a4a7-136">S’ils sont différents, utilisez le nouveau point de terminaison EWS.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-136">If they are different, use the new EWS endpoint.</span></span> <span data-ttu-id="1a4a7-137">Si vous effectuez une actualisation afin de récupérer suite à une erreur, renouvelez la demande ayant échoué avec le nouveau point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-137">If you're refreshing to recover from an error, retry the failed request with the new endpoint.</span></span>
    
  - <span data-ttu-id="1a4a7-138">S’ils sont identiques, continuez à utiliser le point de terminaison EWS d’origine.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-138">If they are the same, continue to use the original EWS endpoint.</span></span> <span data-ttu-id="1a4a7-139">Si vous effectuez une actualisation afin de récupérer suite à une erreur, gérez l’erreur comme il convient.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-139">If you're refreshing to recover from an error, handle the error as appropriate.</span></span>
    
- <span data-ttu-id="1a4a7-140">En cas d’échec de la demande, démarrez le [processus de découverte automatique](autodiscover-for-exchange.md) depuis le début.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-140">If the request fails, start the [Autodiscover process](autodiscover-for-exchange.md) from the beginning.</span></span> <span data-ttu-id="1a4a7-141">Une fois que vous obtenez une réponse réussie, remplacez le point de terminaison de découverte automatique mis en cache par le point de terminaison de découverte automatique qui a réussi et continuer à utiliser le nouveau point de terminaison EWS.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-141">After you get a successful response, replace the cached Autodiscover endpoint with the Autodiscover endpoint that succeeded and continue to use the new EWS endpoint.</span></span> <span data-ttu-id="1a4a7-142">Si vous ne recevez pas de réponse, continuez à utiliser le point de terminaison de découverte automatique d’origine et le point de terminaison EWS.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-142">If you do not get a successful response, continue to use the original Autodiscover endpoint and EWS endpoint.</span></span> <span data-ttu-id="1a4a7-143">Si vous effectuez une actualisation afin de récupérer suite à une erreur, gérez l’erreur comme il convient.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-143">If you're refreshing to recover from an error, handle the error as appropriate.</span></span> 
    
<span data-ttu-id="1a4a7-144">La figure suivante fournit une représentation visuelle de ce processus.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-144">The following figure provides a visual representation of this process.</span></span>
  
<span data-ttu-id="1a4a7-145">**Figure 1. Processus d’actualisation des informations de configuration à l’aide de la découverte automatique**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-145">**Figure 1. Process for refreshing configuration information by using Autodiscover**</span></span>

![Diagramme schématique indiquant comment la découverte automatique actualise les informations de configuration.](media/Ex15_Autodiscover_Refresh_Flowchart.png)
  
### <a name="connection-related-errors"></a><span data-ttu-id="1a4a7-147">Erreurs liées à la connexion</span><span class="sxs-lookup"><span data-stu-id="1a4a7-147">Connection-related errors</span></span>
<span data-ttu-id="1a4a7-148"><a name="bk_ConnectionErrors"> </a></span><span class="sxs-lookup"><span data-stu-id="1a4a7-148"><a name="bk_ConnectionErrors"> </a></span></span>

<span data-ttu-id="1a4a7-149">L’actualisation des informations de configuration mises en cache peut vous aider à résoudre certaines erreurs, mais pas toutes.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-149">Refreshing your cached configuration information can help with some errors, but not all.</span></span> 
  
<span data-ttu-id="1a4a7-150">**Tableau 2. Erreurs à résoudre en actualisant votre cache**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-150">**Table 2. Errors addressed by refreshing your cache**</span></span>

|<span data-ttu-id="1a4a7-151">**Error**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-151">**Error**</span></span>|<span data-ttu-id="1a4a7-152">**Implémentation de l’API managée EWS**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-152">**EWS Managed API implementation**</span></span>|<span data-ttu-id="1a4a7-153">**Remarques**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-153">**Notes**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="1a4a7-154">Erreurs de défaillance du réseau ou du DNS</span><span class="sxs-lookup"><span data-stu-id="1a4a7-154">DNS or network failure errors</span></span><br/><br/> <span data-ttu-id="1a4a7-155">Exemple : le nom d’hôte est introuvable.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-155">Example: Host name could not be found.</span></span>  <br/> |[<span data-ttu-id="1a4a7-156">ServiceRemoteException</span><span class="sxs-lookup"><span data-stu-id="1a4a7-156">ServiceRemoteException</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.exchange.webservices.data.serviceremoteexception?view=exchange-ews-api) <br/> |<span data-ttu-id="1a4a7-157">Toute erreur indiquant que le serveur est introuvable ou inaccessible peut être résolue en tentant la découverte automatique.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-157">Any error that indicates that the server could not be found or could not be reached might be resolved by trying Autodiscover.</span></span> <br/><br/> <span data-ttu-id="1a4a7-158">Le point de terminaison EWS mis en cache n’est peut-être plus valide et la découverte automatique peut vous faire pointer vers le nouveau serveur.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-158">Your cached EWS endpoint might no longer be valid, and Autodiscover might be able to point you to the new server.</span></span>  <br/> |
|<span data-ttu-id="1a4a7-159">Erreurs d’état HTTP</span><span class="sxs-lookup"><span data-stu-id="1a4a7-159">HTTP status errors</span></span><br/><br/> <span data-ttu-id="1a4a7-160">Exemple : service 503 indisponible</span><span class="sxs-lookup"><span data-stu-id="1a4a7-160">Example: 503 Service Unavailable</span></span>  <br/> |[<span data-ttu-id="1a4a7-161">ServiceRemoteException</span><span class="sxs-lookup"><span data-stu-id="1a4a7-161">ServiceRemoteException</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.exchange.webservices.data.serviceremoteexception?view=exchange-ews-api) <br/> |<span data-ttu-id="1a4a7-162">Des erreurs d’état HTTP peuvent se produire pour de nombreuses raisons.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-162">HTTP status errors can happen for many different reasons.</span></span><br/><br/> <span data-ttu-id="1a4a7-163">Toutefois, il est recommandé d’essayer la découverte automatique pour voir si un nouveau point de terminaison EWS est disponible pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-163">However, it's a good idea to try Autodiscover to see if a new EWS endpoint is available for the user.</span></span>  <br/> |
|<span data-ttu-id="1a4a7-164">Codes d’erreur EWS</span><span class="sxs-lookup"><span data-stu-id="1a4a7-164">EWS error codes</span></span> <br/><br/> <span data-ttu-id="1a4a7-165">Exemple : ErrorConnectionFailed</span><span class="sxs-lookup"><span data-stu-id="1a4a7-165">Example: ErrorConnectionFailed</span></span> <br/> |[<span data-ttu-id="1a4a7-166">ResponseCodeType</span><span class="sxs-lookup"><span data-stu-id="1a4a7-166">ResponseCodeType</span></span>](../web-service-reference/responsecode.md) <br/> | <span data-ttu-id="1a4a7-167">La plupart des codes d’erreur EWS ne justifient pas l’actualisation de vos informations de configuration.</span><span class="sxs-lookup"><span data-stu-id="1a4a7-167">Most EWS error codes don't warrant refreshing your configuration information.</span></span><br/><br/> <span data-ttu-id="1a4a7-168">Toutefois, les éléments suivants indiquent spécifiquement que les informations de configuration doivent être mises à jour :</span><span class="sxs-lookup"><span data-stu-id="1a4a7-168">However, the following specifically indicate that the configuration information needs to be updated:</span></span><br/><span data-ttu-id="1a4a7-169">- **ErrorConnectionFailed**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-169">- **ErrorConnectionFailed**</span></span> <br/><span data-ttu-id="1a4a7-170">- **ErrorMailboxMoveInProgress**</span><span class="sxs-lookup"><span data-stu-id="1a4a7-170">- **ErrorMailboxMoveInProgress**</span></span> <br/> |
   
## <a name="see-also"></a><span data-ttu-id="1a4a7-171">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1a4a7-171">See also</span></span>

- [<span data-ttu-id="1a4a7-172">Découverte automatique pour Exchange</span><span class="sxs-lookup"><span data-stu-id="1a4a7-172">Autodiscover for Exchange</span></span>](autodiscover-for-exchange.md)  
- [<span data-ttu-id="1a4a7-173">Générer une liste de points de terminaison de découverte automatique</span><span class="sxs-lookup"><span data-stu-id="1a4a7-173">Generate a list of Autodiscover endpoints</span></span>](how-to-generate-a-list-of-autodiscover-endpoints.md)   
- [<span data-ttu-id="1a4a7-174">Obtenir les paramètres de l'utilisateur Exchange à l'aide de découverte automatique</span><span class="sxs-lookup"><span data-stu-id="1a4a7-174">Get user settings from Exchange by using Autodiscover</span></span>](how-to-get-user-settings-from-exchange-by-using-autodiscover.md)
    

